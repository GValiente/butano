<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Frequently asked questions (FAQ) | Butano Docs</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark+documentation.compiled.css" />
  <link rel="icon" href="favicon-dark.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <span id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">
        <a href="https://github.com/GValiente/butano">Butano</a> <span class="m-breadcrumb">|</span> <a href="index.html" class="m-thin">Docs</a>
      </span>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li><a href="pages.html">Pages</a></li>
            <li><a href="modules.html">Modules</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="3">
            <li><a href="namespaces.html">Namespaces</a></li>
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          Frequently asked questions (FAQ)
        </h1>
        <div class="m-block m-default">
          <h3>Contents</h3>
          <ul>
            <li>
              <a href="#faq_general">General</a>
              <ul>
                <li><a href="#faq_how_do_i">How do I-</a></li>
                <li><a href="#faq_sell_money">Would I be able to sell my game made with Butano for money?</a></li>
              </ul>
            </li>
            <li>
              <a href="#faq_programming">Programming</a>
              <ul>
                <li><a href="#faq_cpp">Can I use Butano without knowing C++?</a></li>
                <li><a href="#faq_ide">Is there any good free IDE for Butano projects out there?</a></li>
                <li><a href="#faq_incomplete_type">Why I get an incomplete type error when trying to use a Butano class?</a></li>
                <li><a href="#faq_containers">Why there&#x27;s std like containers included with Butano?</a></li>
                <li><a href="#faq_heap">So I shouldn&#x27;t use the heap?</a></li>
                <li><a href="#faq_memory_types">Why I run out of memory so often?</a></li>
                <li><a href="#faq_destroy_ptr">How to destroy sprites and backgrounds?</a></li>
                <li><a href="#faq_destroy_optional">That&#x27;s cool, but how can I destroy and reload sprites and backgrounds as easy as possible?</a></li>
                <li><a href="#faq_float_double">Can I use float or double when coding for the GBA?</a></li>
                <li><a href="#faq_sprintf">How do I print a number in a string?</a></li>
                <li><a href="#faq_global_objects">Does Butano allow to declare bn::sprite_ptr or bn::regular_bg_ptr objects globally?</a></li>
                <li><a href="#faq_wait_updates">Is there a way to stop running my code for a certain amount of time?</a></li>
                <li><a href="#faq_utf8_characters">How can I print UTF-8 characters like japanese or chinese ones?</a></li>
                <li><a href="#faq_tonc_general_notes">Are there some more general notes on GBA programming out there?</a></li>
              </ul>
            </li>
            <li>
              <a href="#faq_color">Colors</a>
              <ul>
                <li><a href="#faq_transparent_color">Which color is the transparent one?</a></li>
                <li><a href="#faq_backdrop_color">How can I set the backdrop color?</a></li>
                <li><a href="#faq_share_palettes">How to share the same color palette between sprites or backgrounds?</a></li>
                <li><a href="#faq_multiple_8bpp_objects">Why everything looks weird when I show two or more backgrounds or sprites with more than 16 colors?</a></li>
              </ul>
            </li>
            <li>
              <a href="#faq_backgrounds">Backgrounds</a>
              <ul>
                <li><a href="#faq_bg_wrapping">Why some backgrounds don&#x27;t allow wrapping?</a></li>
                <li><a href="#faq_big_background">What&#x27;s a big background?</a></li>
                <li><a href="#faq_regular_affine_background">Why there are two types of backgrounds (regular and affine)?</a></li>
                <li><a href="#faq_background_error_grit">Why can&#x27;t I import a regular background with 1024 or less tiles?</a></li>
              </ul>
            </li>
            <li>
              <a href="#faq_audio">Audio</a>
              <ul>
                <li><a href="#faq_music_crash">Why the game crashes when some songs are played?</a></li>
                <li><a href="#faq_music_missing_notes">Why there are missing notes when playing some songs?</a></li>
                <li><a href="#faq_audio_quality">How can I improve audio quality?</a></li>
              </ul>
            </li>
            <li>
              <a href="#faq_flash_carts">Flash carts</a>
              <ul>
                <li><a href="#faq_flash_carts_start">Why my game runs fine on emulators but doesn&#x27;t work on a real GBA with a flash cart?</a></li>
                <li><a href="#faq_flash_carts_sram">Why SRAM works on emulators but doesn&#x27;t work with this old flash cart?</a></li>
              </ul>
            </li>
          </ul>
        </div>
<section id="faq_general"><h2><a href="#faq_general">General</a></h2><section id="faq_how_do_i"><h3><a href="#faq_how_do_i">How do I-</a></h3><p>The best way to get started is to read the <a href="getting_started.html" class="m-doc">guide to download, install and start using Butano</a>.</p><p>After that, there are various <a href="examples.html" class="m-doc">examples</a> explaining most aspects of the engine.</p><p>At last, check how to <a href="import.html" class="m-doc">import</a> your own assets in a game and take a look at the <a href="modules.html">modules</a> page.</p><p>This page is worth a look too.</p></section><section id="faq_sell_money"><h3><a href="#faq_sell_money">Would I be able to sell my game made with Butano for money?</a></h3><p>Sure!</p><p>If you comply with <a href="https://github.com/GValiente/butano/blob/master/LICENSE">Butano license</a> and <a href="https://github.com/GValiente/butano/tree/master/3rd_party_licenses">third party libraries licenses</a> used by Butano you can sell your game without issues.</p></section></section><section id="faq_programming"><h2><a href="#faq_programming">Programming</a></h2><section id="faq_cpp"><h3><a href="#faq_cpp">Can I use Butano without knowing C++?</a></h3><p>While Butano is easy to use if you have some C++ skills, it is going to be hard to work with it if you don&#x27;t know nothing about C++, so you should learn a bit of C++ before diving into Butano.</p><p>After that, maybe you can learn both C++ and Butano at the same time while you make a game, but if you don&#x27;t want to have a hard time with Butano you should know the basics of C++ before messing with it.</p></section><section id="faq_ide"><h3><a href="#faq_ide">Is there any good free IDE for Butano projects out there?</a></h3><p>Take a look at the <a href="qt_creator.html" class="m-doc">Qt Creator setup guide</a>.</p></section><section id="faq_incomplete_type"><h3><a href="#faq_incomplete_type">Why I get an incomplete type error when trying to use a Butano class?</a></h3><p>If you have an error like these:</p><pre class="m-code"><span class="nl">error</span><span class="p">:</span> <span class="n">variable</span> <span class="err">&#39;</span><span class="n">bn</span><span class="o">::</span><span class="n">regular_bg_ptr</span> <span class="n">bg</span><span class="err">&#39;</span> <span class="n">has</span> <span class="n">initializer</span> <span class="n">but</span> <span class="n">incomplete</span> <span class="n">type</span>
<span class="nl">error</span><span class="p">:</span> <span class="n">invalid</span> <span class="n">use</span> <span class="n">of</span> <span class="n">incomplete</span> <span class="n">type</span> <span class="err">&#39;</span><span class="k">class</span> <span class="nc">bn</span><span class="o">::</span><span class="n">regular_bg_ptr</span><span class="err">&#39;</span>
<span class="nl">error</span><span class="p">:</span> <span class="n">aggregate</span> <span class="err">&#39;</span><span class="n">bn</span><span class="o">::</span><span class="n">fixed</span><span class="err">&#39;</span> <span class="n">has</span> <span class="n">incomplete</span> <span class="n">type</span> <span class="n">and</span> <span class="n">cannot</span> <span class="n">be</span> <span class="n">defined</span></pre><p>It is almost always because of lack of included headers.</p><p>You can find the header of each Butano class in its documentation page.</p></section><section id="faq_containers"><h3><a href="#faq_containers">Why there&#x27;s std like containers included with Butano?</a></h3><p>Butano containers differ from the standard library ones in two important points:</p><ul><li>They don&#x27;t use the heap, their content is always on the stack.</li><li>They don&#x27;t throw exceptions. <a href="group__assert.html" class="m-doc">Asserts</a> are used instead.</li></ul><p>Since avoiding heap usage and exceptions is usually good for GBA development, use Butano containers whenever possible.</p></section><section id="faq_heap"><h3><a href="#faq_heap">So I shouldn&#x27;t use the heap?</a></h3><p>Since heap usage is slow and the heap allocator included with Butano is very limited, avoid heap usage whenever possible.</p></section><section id="faq_memory_types"><h3><a href="#faq_memory_types">Why I run out of memory so often?</a></h3><p>Besides VRAM and such, the GBA provides two memory banks:</p><ul><li>IWRAM: 32KB fast RAM.</li><li>EWRAM: 256KB slow RAM.</li></ul><p>Data is allocated in IWRAM by default, so it is common to run out of memory if you don&#x27;t use EWRAM.</p><p>To place data in EWRAM, you can:</p><ul><li>Allocate memory in the heap, since it is in EWRAM.</li><li>Declare static data with the <code>BN_DATA_EWRAM</code> macro: <code class="m-code"><span class="n">BN_DATA_EWRAM</span> <span class="n">static_data</span> <span class="n">data</span><span class="p">;</span></code></li></ul><p>However, if the data is read only, you can avoid wasting RAM by placing it in ROM with the <code>const</code> qualifier: <code class="m-code"><span class="k">const</span> <span class="n">const_data</span> <span class="n">data</span><span class="p">;</span></code></p></section><section id="faq_destroy_ptr"><h3><a href="#faq_destroy_ptr">How to destroy sprites and backgrounds?</a></h3><p><a href="classbn_1_1sprite__ptr.html" class="m-doc">bn::<wbr />sprite_ptr</a>, <a href="classbn_1_1regular__bg__ptr.html" class="m-doc">bn::<wbr />regular_bg_ptr</a> and all Butano classes that end with the <code>_ptr</code> suffix are <code>std::shared_ptr</code> like smart pointers that retains shared ownership of a hardware resource.</p><p>In the case of <a href="classbn_1_1sprite__ptr.html" class="m-doc">bn::<wbr />sprite_ptr</a>, several <a href="classbn_1_1sprite__ptr.html" class="m-doc">bn::<wbr />sprite_ptr</a> objects may own the same sprite. The sprite is released when the last remaining <a href="classbn_1_1sprite__ptr.html" class="m-doc">bn::<wbr />sprite_ptr</a> owning it is destroyed.</p><p>If you want to learn more about <code>std::shared_ptr</code>, you can read:</p><ul><li><a href="https://www.geeksforgeeks.org/auto_ptr-unique_ptr-shared_ptr-weak_ptr-2">A basic introduction of standard smart pointers</a>.</li><li><a href="https://docs.microsoft.com/en-us/cpp/cpp/how-to-create-and-use-shared-ptr-instances?view=msvc-160">A std::<wbr />shared_ptr usage guide</a>.</li></ul></section><section id="faq_destroy_optional"><h3><a href="#faq_destroy_optional">That&#x27;s cool, but how can I destroy and reload sprites and backgrounds as easy as possible?</a></h3><p><a href="classbn_1_1optional.html" class="m-doc">bn::<wbr />optional</a> helps to unload and reload hardware resources easily:</p><pre class="m-code"><span class="c1">// bg_optional is empty:</span>
<span class="n">bn</span><span class="o">::</span><span class="n">optional</span><span class="o">&lt;</span><span class="n">bn</span><span class="o">::</span><span class="n">regular_bg_ptr</span><span class="o">&gt;</span> <span class="n">bg_optional</span><span class="p">;</span>

<span class="c1">// bg_optional now contains the background specified by bn::regular_bg_items::bg1:</span>
<span class="n">bg_optional</span> <span class="o">=</span> <span class="n">bn</span><span class="o">::</span><span class="n">regular_bg_items</span><span class="o">::</span><span class="n">bg1</span><span class="p">.</span><span class="n">create_bg</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

<span class="c1">// bg_optional is empty again:</span>
<span class="n">bg_optional</span><span class="p">.</span><span class="n">reset</span><span class="p">();</span>

<span class="c1">// bg_optional now contains the background specified by bn::regular_bg_items::bg2:</span>
<span class="n">bg_optional</span> <span class="o">=</span> <span class="n">bn</span><span class="o">::</span><span class="n">regular_bg_items</span><span class="o">::</span><span class="n">bg2</span><span class="p">.</span><span class="n">create_bg</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span></pre></section><section id="faq_float_double"><h3><a href="#faq_float_double">Can I use float or double when coding for the GBA?</a></h3><p>Normally CPUs have dedicated hardware for processing <code>float</code>s and <code>double</code>s, called an FPU. The GBA doesn&#x27;t have one, so you&#x27;re left with 2 choices:</p><ul><li>Using soft float, which is floating point emulated in software (<em>very</em> slow).</li><li>Using fixed point arithmetic, which is just integer arithmetic with a few extra steps.</li></ul><p>Butano provides <a href="namespacebn.html#a5af5ad0ce2b28e24d6d5d758be12b6da" class="m-doc">bn::<wbr />fixed</a>, which tries to be as close as possible to a <code>float</code> with fixed point arithmetic. Use it when you want to work with numbers with decimal points.</p></section><section id="faq_sprintf"><h3><a href="#faq_sprintf">How do I print a number in a string?</a></h3><p><em>Don&#x27;t</em> use <code>sprintf</code>, <code>std::ostring_stream</code> nor anything that comes with the standard library, because:</p><ul><li>Butano functions for printing numbers in strings can be more than 5 times faster than the standard functions.</li><li>Standard functions can take more than 4KB of IWRAM.</li><li>Standard functions sometimes can&#x27;t be used because they give link errors.</li></ul><p>If you want to print a number in a string with Butano, <a href="group__string.html#gaa4d30090b47f478205608bbbe24233b3" class="m-doc">bn::<wbr />to_string</a> provides the easiest way to do it:</p><pre class="m-code"><span class="n">bn</span><span class="o">::</span><span class="n">string</span><span class="o">&lt;</span><span class="mi">16</span><span class="o">&gt;</span> <span class="n">string</span> <span class="o">=</span> <span class="n">bn</span><span class="o">::</span><span class="n">to_string</span><span class="o">&lt;</span><span class="mi">16</span><span class="o">&gt;</span><span class="p">(</span><span class="n">number</span><span class="p">);</span></pre><p>If you want to compose a string with multiple numbers, you can use <a href="classbn_1_1ostringstream.html" class="m-doc">bn::<wbr />ostringstream</a> too:</p><pre class="m-code"><span class="n">bn</span><span class="o">::</span><span class="n">string</span><span class="o">&lt;</span><span class="mi">64</span><span class="o">&gt;</span> <span class="n">string</span><span class="p">;</span>
<span class="n">bn</span><span class="o">::</span><span class="n">ostringstream</span> <span class="n">string_stream</span><span class="p">(</span><span class="n">string</span><span class="p">);</span>
<span class="n">string_stream</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Text: &quot;</span><span class="p">;</span>
<span class="n">string_stream</span> <span class="o">&lt;&lt;</span> <span class="mi">123</span><span class="p">;</span>
<span class="n">string_stream</span> <span class="o">&lt;&lt;</span> <span class="s">&quot; - &quot;</span><span class="p">;</span>
<span class="n">string_stream</span> <span class="o">&lt;&lt;</span> <span class="n">number</span><span class="p">;</span></pre></section><section id="faq_global_objects"><h3><a href="#faq_global_objects">Does Butano allow to declare bn::sprite_ptr or bn::regular_bg_ptr objects globally?</a></h3><p>In general, you should not do anything with Butano before calling <a href="namespacebn_1_1core.html#ae44eeedf2d7cadbe8d8d6990e209f46d" class="m-doc">bn::<wbr />core::<wbr />init</a>, including creating global Butano objects.</p><p>If you want to declare global Butano objects, you can do something like this instead:</p><pre class="m-code"><span class="k">struct</span> <span class="nc">global_data</span>
<span class="p">{</span>
    <span class="n">bn</span><span class="o">::</span><span class="n">sprite_ptr</span> <span class="n">sprite</span><span class="p">;</span>
    <span class="n">bn</span><span class="o">::</span><span class="n">regular_bg_ptr</span> <span class="n">bg</span><span class="p">;</span>
<span class="p">};</span>

<span class="n">global_data</span><span class="o">*</span> <span class="n">global_ptr</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">bn</span><span class="o">::</span><span class="n">core</span><span class="o">::</span><span class="n">init</span><span class="p">();</span>

    <span class="n">global_data</span> <span class="n">global_instance</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">bn</span><span class="o">::</span><span class="n">sprite_items</span><span class="o">::</span><span class="n">sprite_item</span><span class="p">.</span><span class="n">create_sprite</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
        <span class="n">bn</span><span class="o">::</span><span class="n">regular_bg_items</span><span class="o">::</span><span class="n">bg_item</span><span class="p">.</span><span class="n">create_bg</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">};</span>

    <span class="n">global_ptr</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">global_instance</span><span class="p">;</span>

    <span class="c1">// ...</span>
<span class="p">}</span></pre><p>And then you can access global Butano objects from anywhere in your code with something like this:</p><pre class="m-code"><span class="n">global_ptr</span><span class="o">-&gt;</span><span class="n">sprite</span><span class="p">.</span><span class="n">set_position</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span></pre></section><section id="faq_wait_updates"><h3><a href="#faq_wait_updates">Is there a way to stop running my code for a certain amount of time?</a></h3><p>Since you can usually assume than your game is running at 60FPS, you can wait a second for example with this:</p><pre class="m-code"><span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="mi">60</span><span class="p">;</span> <span class="o">++</span><span class="n">index</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">bn</span><span class="o">::</span><span class="n">core</span><span class="o">::</span><span class="n">update</span><span class="p">();</span>
<span class="p">}</span></pre></section><section id="faq_utf8_characters"><h3><a href="#faq_utf8_characters">How can I print UTF-8 characters like japanese or chinese ones?</a></h3><p><a href="classbn_1_1sprite__text__generator.html" class="m-doc">bn::<wbr />sprite_text_generator</a> already supports UTF-8 characters rendering, but the <a href="classbn_1_1sprite__font.html" class="m-doc">bn::<wbr />sprite_font</a> instances used in the examples don&#x27;t provide japanese nor chinese characters, so you will have to make a new one with them.</p></section><section id="faq_tonc_general_notes"><h3><a href="#faq_tonc_general_notes">Are there some more general notes on GBA programming out there?</a></h3><p><a href="https://www.coranac.com/tonc/text/first.htm#sec-notes">I&#x27;m glad you asked</a>.</p></section></section><section id="faq_color"><h2><a href="#faq_color">Colors</a></h2><section id="faq_transparent_color"><h3><a href="#faq_transparent_color">Which color is the transparent one?</a></h3><p>Butano supports 16 or 256 color images only, so they must have a color palette.</p><p>The transparent color is the first one in the color palette, so in order to change it you should use a bitmap editor with color palette manipulation tools, like <a href="https://www.coranac.com/projects/usenti/">Usenti</a>:</p><img class="m-image" src="import_usenti.png" alt="Image" /></section><section id="faq_backdrop_color"><h3><a href="#faq_backdrop_color">How can I set the backdrop color?</a></h3><p>The transparent or the backdrop color (displayed color when nothing else is) is the first one in the backgrounds palette.</p><p>You can override its default value with <a href="namespacebn_1_1bg__palettes.html#a6b793b88f09ac5683bc6e6a47a833937" class="m-doc">bn::<wbr />bg_palettes::<wbr />set_transparent_color</a>.</p></section><section id="faq_share_palettes"><h3><a href="#faq_share_palettes">How to share the same color palette between sprites or backgrounds?</a></h3><p>If two sprites or backgrounds have the same colors, by default they share the same color palette.</p><p>Keep in mind that unused colors are also taken into account when deciding if two color palettes are equal or not.</p></section><section id="faq_multiple_8bpp_objects"><h3><a href="#faq_multiple_8bpp_objects">Why everything looks weird when I show two or more backgrounds or sprites with more than 16 colors?</a></h3><p>Since the GBA has only two 256 color palettes (one for sprites and the other for backgrounds), if you use for example two backgrounds with more than 16 colors, Butano assumes that they have the same color palette (same colors in the same order).</p><p>So if you are going to show at the same time multiple backgrounds with more than 16 colors, use the same color palette with all of them (in the same scene of course, different backgrounds shown in different scenes can have different color palettes).</p></section></section><section id="faq_backgrounds"><h2><a href="#faq_backgrounds">Backgrounds</a></h2><section id="faq_bg_wrapping"><h3><a href="#faq_bg_wrapping">Why some backgrounds don&#x27;t allow wrapping?</a></h3><p>If you try to move a big background beyond its boundaries, an error like this one should be displayed:</p><img class="m-image" src="faq_bg_wrapping.png" alt="Image" /><p>That&#x27;s because big backgrounds don&#x27;t allow wrapping, so if you are using a big background, avoid moving it beyond its boundaries (or avoid using big backgrounds).</p></section><section id="faq_big_background"><h3><a href="#faq_big_background">What&#x27;s a big background?</a></h3><p>The GBA only supports some fixed sizes for background maps.</p><p>However, Butano allows to manage background maps with any size multiple of 256 pixels. These special background maps and the backgrounds that display them are called big maps/backgrounds.</p><p>Try to avoid big backgrounds whenever possible, because they are slower CPU wise and don&#x27;t support wrapping (they can&#x27;t be moved beyond their boundaries).</p></section><section id="faq_regular_affine_background"><h3><a href="#faq_regular_affine_background">Why there are two types of backgrounds (regular and affine)?</a></h3><p>It seems it is always better to use affine backgrounds, since they can be rotated, scaled, etc. and its size can be up to 1024x1024 pixels without becoming big backgrounds.</p><p>However, compared to regular backgrounds, affine backgrounds have these limitations:</p><ul><li>Only two of them can be displayed at the same time, instead of four.</li><li>They don&#x27;t support 16 color tiles, only 256 color ones.</li><li>They only support up to 256 different tiles, instead of 1024.</li></ul><p>Because of these limitations, you should avoid affine backgrounds whenever possible.</p></section><section id="faq_background_error_grit"><h3><a href="#faq_background_error_grit">Why can&#x27;t I import a regular background with 1024 or less tiles?</a></h3><p>If you get this error when trying to import a regular background with 1024 or less tiles:</p><p><code>error: Regular BGs with more than 1024 tiles not supported: 1025</code></p><p>Or you get this error when importing an affine background with 256 or less tiles:</p><p><code>error: Affine BGs with more than 256 tiles not supported: 257</code></p><p>Your image is fine, but <a href=" https://www.coranac.com/projects/grit/">grit</a> (the tool used by Butano to import images) is generating unneeded extra tiles.</p><p>The only workaround that I know of is reducing detail in your input image until the tiles count of the generated background is valid.</p></section></section><section id="faq_audio"><h2><a href="#faq_audio">Audio</a></h2><section id="faq_music_crash"><h3><a href="#faq_music_crash">Why the game crashes when some songs are played?</a></h3><p>Butano uses the excellent <a href="https://maxmod.devkitpro.org/">Maxmod</a> library for audio support.</p><p>It provides impressive performance and support for lots of module music formats, but unfortunately it crashes with some songs.</p><p>Sometimes it helps to change song&#x27;s file format (for example, from <code>*.xm</code> to <code>*.it</code>). You can use <a href="https://openmpt.org/">OpenMPT</a> to do that.</p><p>You can also try to create a new issue in its <a href="https://github.com/devkitPro/maxmod/issues">GitHub issues</a> page, but since it seems the library was abandoned long time ago, don&#x27;t hold your hopes up too much.</p></section><section id="faq_music_missing_notes"><h3><a href="#faq_music_missing_notes">Why there are missing notes when playing some songs?</a></h3><p>If a song doesn&#x27;t have more channels than the maximum number of active music channels specified by <a href="group__music.html#ga9ec36de1eb7cd32376a5765bf3d6a63d" class="m-doc">BN_<wbr />CFG_<wbr />AUDIO_<wbr />MAX_<wbr />MUSIC_<wbr />CHANNELS</a>, as before, sometimes it helps to change its file format (for example, from <code>*.xm</code> to <code>*.it</code>). You can use <a href="https://openmpt.org/">OpenMPT</a> to do that.</p></section><section id="faq_audio_quality"><h3><a href="#faq_audio_quality">How can I improve audio quality?</a></h3><p>If you have some free CPU left, you can increase audio mixing rate to improve its quality.</p><p>The easiest way to specify the audio mixing rate for a specific project is to define it in the <code>USERFLAGS</code> of its <code>Makefile</code>.</p><p>For example, to set the audio mixing rate to 21KHz:</p><p><code>USERFLAGS := -DBN_CFG_AUDIO_MIXING_RATE=BN_AUDIO_MIXING_RATE_21_KHZ</code></p><p>Remember to rebuild your project from scratch after modifying a <code>Makefile</code>.</p><p>Available mixing rates are <a href="group__audio.html" class="m-doc">here</a>.</p></section></section><section id="faq_flash_carts"><h2><a href="#faq_flash_carts">Flash carts</a></h2><section id="faq_flash_carts_start"><h3><a href="#faq_flash_carts_start">Why my game runs fine on emulators but doesn&#x27;t work on a real GBA with a flash cart?</a></h3><p>Some flash carts allow to improve commercial games with patches like <code>saver patch</code>, <code>enable restart</code>, <code>enable real time save</code>, etc.</p><p>These patches can break homebrew games, so try to disable some or all of them if you run into any issues.</p></section><section id="faq_flash_carts_sram"><h3><a href="#faq_flash_carts_sram">Why SRAM works on emulators but doesn&#x27;t work with this old flash cart?</a></h3><p>While SRAM works out-of-the-box with most modern flash carts, it can fail with some older ones.</p><p>To fix it you can try to:</p><ul><li>Set save type as SRAM.</li><li>Disable or enable save patches.</li><li>Update the firmware of the flash cart.</li></ul></section></section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v1.js"></script>
<script src="searchdata-v1.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>Butano Docs. Created with <a href="https://doxygen.org/">Doxygen</a> 1.8.20 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
